"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function f(e){var r=e.toLowerCase().replace("table:","").trim(),t=_fs2["default"].readFileSync(r,"utf-8");return csv2json(t)}function csv2json(e){e=_replaceAll2["default"](e,"\r","");for(var r=[],t=e=e.split("\n"),l=0;l<t.length;l++)t[l]=t[l].split(";");for(var a=t.shift(),l=0;l<a.length;l++)a[l]=_sanitizeStr2["default"](a[l]);for(var i=0;i<t.length;i++){for(var s=t[i],n=void 0,u={},l=0;l<a.length;l++)s[l]&&(n=a[l],u[n]=s[l],0===s[l].indexOf("table:")&&(u[n]=f(u[n])));Object.keys(u).length>0&&r.push(u)}return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=csv2json;var _fs=require("fs"),_fs2=_interopRequireDefault(_fs),_replaceAll=require("./replace-all"),_replaceAll2=_interopRequireDefault(_replaceAll),_sanitizeStr=require("./sanitize-str"),_sanitizeStr2=_interopRequireDefault(_sanitizeStr);module.exports=exports["default"];